#### SQL 优化有哪些?

- 尽量避免使用 select * ，返回无用的字段会降低效率。

  优化方式：只能使用具 体的字段代替 select 具体字段，只返回使用到的字段。

- 尽量避免使用 in 和 not in，会导致数据库引擎放弃索引进行全表扫描。

  优化方式：如果是连续数值，可以用 between 代替，如果是子查询，可以用 exists 代替。

- 尽量避免在字段开头模糊查询，会导致数据库引擎放弃索引进行全表扫描。

  优化方式：尽量在字段后面使用模糊查询。

- 尽量避免进行 null 值的判断，会导致数据库引擎放弃索引进行全表扫描。

  优化方式：可以给字段添加默认值 0，对 0 值进行判断。

- 在表中建立索引，优先考虑where、group by使用到的字段。

- 尽量避免使用or，会导致数据库引擎放弃索引进行全表扫描。（SELECT * FROM t WHERE id = 1 OR id = 3）

  优化方式：可以用union代替or。

  （SELECT * FROM t WHERE id = 1
  UNION
  SELECT * FROM t WHERE id = 3）

- 尽量避免在where条件中等号的左侧进行表达式、函数操作，会导致数据库引擎放弃索引进行全表扫描。

  优化方式：可以将表达式、函数操作移动到等号右侧。

- 当数据量大时，避免使用where 1=1的条件。通常为了方便拼装查询条件，我们会默认使用该条件，数据库引擎会放弃索引进行全表扫描。

  优化方式：用代码拼装SQL时进行判断，没where加where，有where加and。